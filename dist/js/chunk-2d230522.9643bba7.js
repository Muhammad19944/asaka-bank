(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230522"],{ec7e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"announcements-view"},[n("div",{staticClass:"d-flex align-center mb-5"},[n("h5",{staticClass:"app-card-title font-600 text-secondary-dark"},[t._v("E'lonlar")]),n("v-spacer"),n("v-btn",{attrs:{to:{name:"DashboardAnnouncementsCreate"},depressed:"",color:"primary"}},[n("div",{staticClass:"d-flex align-center"},[n("plus-icon",{staticClass:"mr-1",attrs:{size:"1.5x"}}),n("span",{staticClass:"text-transform-reset"},[t._v(t._s(t.$t("Dashboard.add_new")))])],1)])],1),n("v-row",[n("v-col",{attrs:{md:"9"}},[n("v-row",[t._l(t.announcementsList,(function(e,a){return[n("v-col",{key:a,attrs:{md:"4"}},[n("div",{staticClass:"\n                                    app-card\n                                    border-all\n                                    d-flex\n                                    flex-column\n                                    text-decoration-none\n                                    rounded\n                                    overflow-hidden\n                                    h-100\n                                "},[n("div",{staticClass:"app-card-header p-relative"},[n("v-responsive",{attrs:{"aspect-ratio":1.5}},[n("div",{staticClass:"card-header-img p-absolute w-100 h-100 d-flex pa-7"},[n("img",{staticClass:"ma-auto transition-all",attrs:{src:"/images/logo.svg",alt:"App logo"}})])]),n("div",{staticClass:"\n                                            app-card-overlay\n                                            p-absolute\n                                            w-100\n                                            h-100\n                                            d-flex\n                                            align-center\n                                            justify-space-around\n                                            px-10\n                                            transition-ease-in-out\n                                        "},[n("router-link",{staticClass:"\n                                                rounded-circle\n                                                d-flex\n                                                align-center\n                                                justify-center\n                                                border-all\n                                                outline-transparent\n                                                transition-ease-in-out\n                                            ",attrs:{to:{name:"DashboardAnnouncementsRead",params:{id:e.id}},type:"button"}},[n("button",{staticClass:"d-flex align-center justify-center",attrs:{type:"button"}},[n("eye-icon",{staticClass:"text-white",attrs:{size:"1.1x"}})],1)]),n("router-link",{staticClass:"\n                                                rounded-circle\n                                                d-flex\n                                                align-center\n                                                justify-center\n                                                border-all\n                                                outline-transparent\n                                                transition-ease-in-out\n                                            ",attrs:{to:{name:"DashboardAnnouncementsUpdate",params:{id:e.id}},type:"button"}},[n("button",{staticClass:"\n                                                    rounded-circle\n                                                    d-flex\n                                                    align-center\n                                                    justify-center\n                                                    transition-ease-in-out\n                                                ",attrs:{type:"button"}},[n("edit-icon",{staticClass:"text-white",attrs:{size:"1.1x"}})],1)]),n("button",{staticClass:"\n                                                rounded-circle\n                                                d-flex\n                                                align-center\n                                                justify-center\n                                                border-all\n                                                outline-transparent\n                                                transition-ease-in-out\n                                            ",attrs:{type:"button"},on:{click:function(n){return t.deleteRow(e.id)}}},[n("trash2-icon",{staticClass:"text-white",attrs:{size:"1.1x"}})],1)],1)],1),n("div",{staticClass:"app-card-body pa-6 flex-1 d-flex flex-column bg-white"},[n("div",{staticClass:"card-body-meta d-flex mb-5"},[n("div",{staticClass:"card-date mr-6"},[n("h2",{staticClass:"text-center mb-1"},[t._v(t._s(t._f("filterOnlyDate")(e.date_added)))]),n("span",{staticClass:"text-capitalize"},[t._v(t._s(t._f("filterOnlyMonth")(e.date_added)))])]),n("div",{staticClass:"card-text main-grey"},[n("h5",{staticClass:"line-truncate"},[n("I18nVue",{attrs:{uz:e.title_uz,ru:e.title_ru,en:e.title_en}})],1)])])])])])]}))],2)],1)],1)],1)},s=[],i=n("0130"),r=n("2954"),o=n("0a35"),l=n("d1f9"),c={name:"index",components:{SendButton:i["a"],Widget:r["a"],PlusIcon:o["F"],ChevronRightIcon:o["g"],DownloadCloudIcon:o["j"],EyeIcon:o["n"],EditIcon:o["m"],Trash2Icon:o["M"],I18nVue:l["a"]},data(){return{announcementsList:[],pageCounter:1,isAllLoaded:!1}},mounted(){this.getAll()},methods:{getAll(){this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/news/`,{params:{page:this.pageCounter,page_size:this.$store.state.FILTER_OPTIONS.page_size,category:15}}).then(({data:t})=>{t.next||(this.isAllLoaded=!0),t.results.forEach(t=>{this.announcementsList.push(t)})})},deleteRow(t){confirm("O'chirishni xoxlaysizmi ?")&&this.$http.delete(`/${this.$store.state.auth.COMPANY_ID}/news/${t}/`).then(()=>{this.$toast.success("O'chirildi"),location.reload(),this.getAll()}).catch(()=>{this.$toast.error("O'chirishda xatolik")})},loadMore(){this.pageCounter=this.pageCounter+1,this.getAll()}}},d=c,u=n("0c7c"),p=Object(u["a"])(d,a,s,!1,null,"dd8a1f60",null);e["default"]=p.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18413ebe"],{"404d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h-r-form",{attrs:{TYPE:t.$store.state.FORM_TYPE.READ}})},l=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hr-form-view"},[a("app-card",[a("div",{staticClass:"form-wrap pa-5 px-6"},[a("div",{staticClass:"d-flex align-center mb-8"},["Create"===t.TYPE?a("h4",{staticClass:"text--primary text-uppercase font-700 mr-4"},[t._v(" "+t._s(t.$t("application_form"))+" ")]):a("h4",{staticClass:"text--primary text-uppercase font-700 mr-4"},[t._v(" "+t._s(t.$t("Dashboard.read"))+" ")]),a("v-divider",{staticStyle:{"border-color":"rgb(var(--border-color), 1)"}})],1),a("div",{staticClass:"form-wrap-body"},[t.formModel?a("v-row",[a("v-col",{attrs:{md:"4"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[a("I18nVue",{attrs:{t:"Services.OpenCard.FISH"}})],1),a("v-text-field",{attrs:{outlined:"","hide-details":"",readonly:"Read"===t.TYPE,placeholder:t.$t("Services.OpenCard.FISH_sub")},model:{value:t.formModel.full_name,callback:function(e){t.$set(t.formModel,"full_name",e)},expression:"formModel.full_name"}})],1)]),a("v-col",{attrs:{md:"4"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[a("I18nVue",{attrs:{t:"Services.OpenCard.phone"}})],1),a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"+998 (##) ### ## ##",expression:"'+998 (##) ### ## ##'"}],attrs:{outlined:"","hide-details":"",readonly:"Read"===t.TYPE,placeholder:t.$t("Services.OpenCard.phone")},model:{value:t.formModel.phone_number,callback:function(e){t.$set(t.formModel,"phone_number",e)},expression:"formModel.phone_number"}})],1)]),a("v-col",{attrs:{md:"4"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(" Vakansiya nomi ")]),a("v-text-field",{attrs:{outlined:"","hide-details":"",readonly:"Read"===t.TYPE},model:{value:t.formModel.vacancy_title,callback:function(e){t.$set(t.formModel,"vacancy_title",e)},expression:"formModel.vacancy_title"}})],1)]),a("v-col",{attrs:{md:"4"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[a("I18nVue",{attrs:{t:"Services.OpenCard.residence"}})],1),a("v-text-field",{attrs:{outlined:"","hide-details":"",readonly:"Read"===t.TYPE},model:{value:"uz"===t.$i18n.locale?t.formModel.district.name_uz:"ru"===t.$i18n.locale?t.formModel.district.name_ru:t.formModel.district.name_en,callback:function(e){t.$set("uz"===t.$i18n.locale?t.formModel.district.name_uz:"ru"===t.$i18n.locale?t.formModel.district.name_ru:t.formModel.district,"name_en",e)},expression:"\n\t\t\t\t\t\t\t\t\t$i18n.locale === 'uz' ?\n\t\t\t\t\t\t\t\t\tformModel.district.name_uz :\n\t\t\t\t\t\t\t\t\t$i18n.locale === 'ru' ?\n\t\t\t\t\t\t\t\t\tformModel.district.name_ru :\n\t\t\t\t\t\t\t\t\tformModel.district.name_en\n\t\t\t\t\t\t\t\t"}})],1)]),a("v-col",{attrs:{md:"4"}},[a("file-upload",{ref:"propFile",attrs:{value:t.documentFile,disabled:"Read"===t.TYPE,label:t.$t("Dashboard.upload_file")}})],1),a("v-col",{attrs:{md:"4"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[t._v("Statusni o'zgartirish")]),a("v-select",{attrs:{items:t.statusList,"item-text":"name_uz","item-value":"id",outlined:"","hide-details":""},on:{change:t.changeStatus},scopedSlots:t._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"text-secondary-dark",attrs:{size:"1.35x"}})]},proxy:!0}],null,!1,1761019591),model:{value:t.formModel.status,callback:function(e){t.$set(t.formModel,"status",e)},expression:"formModel.status"}})],1)]),a("v-col",{attrs:{md:"4"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[t._v("Kondidatga xabar yozish")]),a("v-textarea",{attrs:{outlined:"","hide-details":"","no-resize":""},model:{value:t.sendFeedbackToUser.text,callback:function(e){t.$set(t.sendFeedbackToUser,"text",e)},expression:"sendFeedbackToUser.text"}})],1)]),a("v-col",{attrs:{md:"8"}}),a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[t._v("Kondidatga yozilgan xabarlar")]),a("v-row",[t._l(t.formModel.application_outcome,(function(e){return[a("v-col",{key:e.id,attrs:{md:"4"}},[a("div",{staticClass:"credit-widget pa-5 rounded-lg overflow-hidden p-relative"},[a("div",{staticClass:"d-flex align-center mb-1"},[a("h5",{staticClass:"font-600"},[t._v("Kim tomondan yozilgan:")]),e.created_by?[a("span",{staticClass:"d-block ml-2"},[t._v(t._s(e.created_by.first_name)+" "+t._s(e.created_by.last_name))])]:t._e()],2),a("div",{staticClass:"d-flex align-center mb-1"},[a("h5",{staticClass:"font-600"},[t._v("Yuborilgan sana:")]),a("span",{staticClass:"d-block ml-2"},[t._v(t._s(t._f("filterDateAndTimeHour")(e.created_date)))])]),a("div",{staticClass:"d-flex align-center"},[a("h5",{staticClass:"font-600"},[t._v("Xabar:")]),a("span",{staticClass:"d-block ml-2"},[t._v(t._s(e.text))])])])])]}))],2)],1)]),a("v-col",{attrs:{md:"12"}},[a("go-back-button"),a("send-button",{on:{"emit:up":t.send}})],1)],1):t._e()],1)])])],1)},o=[],r=a("87d8"),n=a("9e43"),d=a("0130"),c=a("d1f9"),u=a("8d9d"),p=a("0a35"),m={name:"HRForm",props:{TYPE:{type:String,default:""}},components:{AppCard:r["a"],GoBackButton:n["a"],SendButton:d["a"],I18nVue:c["a"],FileUpload:u["a"],ChevronDownIcon:p["e"]},data(){return{formModel:null,documentFile:null,sendFeedbackToUser:{application:this.$route.params.id,text:""},statusList:[]}},mounted(){this.$route.params.id&&(this.getOne(),this.getStatusList())},methods:{getOne(){this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/job_app/action/${this.$route.params.id}/`).then(({data:t})=>{this.formModel=t,this.documentFile=t.resume,console.log(t)})},changeStatus(t){this.$http.put(`/${this.$store.state.auth.COMPANY_ID}/job_app/action/${this.$route.params.id}/`,{status:t}).then(()=>{this.$toast.success("Status o'zgartirildi")}).catch(()=>{this.$toast.error("O'zgartirishda xatolik")})},getStatusList(){this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/status/`).then(({data:t})=>{this.statusList=t.results})},send(){this.$http.post(`/${this.$store.state.auth.COMPANY_ID}/job_application/result/`,this.sendFeedbackToUser).then(()=>{this.$toast.success("Murojat mijozga yuborildi"),setTimeout(()=>{this.$router.push({name:"AdminHRApplications"})},1500)}).catch(t=>{this.$toast.error(t.data.join())})}}},f=m,h=a("0c7c"),b=Object(h["a"])(f,i,o,!1,null,null,null),v=b.exports,_={name:"Read",components:{HRForm:v}},x=_,g=Object(h["a"])(x,s,l,!1,null,null,null);e["default"]=g.exports},"8d9d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[a("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(" "+t._s(t.label)+" "),t.subLabel?[a("span",{staticClass:"red--text"},[t._v("("+t._s(t.subLabel)+")")])]:t._e()],2),a("div",{staticClass:"d-flex align-center"},[a("v-file-input",{staticClass:"file-uploader mr-2",attrs:{disabled:t.disabled||t.readonly,"prepend-icon":"",accept:"image/png, image/jpeg, image/jpg, image/bmp",outlined:"","hide-details":""},on:{change:t.upload},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{staticStyle:{"margin-top":"-6px"},attrs:{depressed:"",color:"rgba(var(--primary), 1)"}},[a("span",{staticClass:"text-transform-reset text-white"},[t._v(t._s(t.$t("Dashboard.upload_file")))])])]},proxy:!0}]),model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t.value?[a("span",{staticClass:"d-none"},[t._v(t._s(t.hidden))]),t.fileThumb.visible?[a("div",{staticClass:"file-upload-wrap rounded overflow-hidden p-relative"},[t.extension?[a("a",{staticClass:"border-all d-flex align-center justify-center w-100 h-100 rounded",attrs:{href:"#"}},[a("file-text-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})],1)]:[a("img",{staticClass:"d-block img-cover",attrs:{src:t.$http.defaults.baseURL+t.fileThumb.url,alt:"Card image"}})],a("div",{staticClass:"file-upload-actions p-absolute w-100 h-100 d-flex align-center justify-space-around px-2 transition-ease-in-out"},[a("a",{staticClass:"rounded-circle d-flex align-center justify-center outline-transparent",attrs:{href:t.$http.defaults.baseURL+t.fileThumb.url,download:"",target:"_blank",rel:"noopener noreferrer"}},[a("download-icon",{staticClass:"text-white d-block",attrs:{size:"1.2x"}})],1),t.readonly?t._e():[a("button",{staticClass:"rounded-circle d-flex align-center justify-center outline-transparent",attrs:{type:"button"},on:{click:t.deleteFile}},[a("trash2-icon",{staticClass:"text-white d-block",attrs:{size:"1.1x"}})],1)]],2)],2)]:t._e()]:t._e()],2)])},l=[],i=a("0a35"),o={name:"FileUpload",props:{label:{type:String},subLabel:{type:String,default:""},disabled:{type:Boolean,default:!1},value:{type:Object,default:()=>{}},readonly:{type:Boolean,default:!1}},components:{EyeIcon:i["n"],Trash2Icon:i["M"],FileTextIcon:i["q"],DownloadIcon:i["k"]},computed:{extension(){return["pdf","PDF","doc","docx","DOC","csv","CSV","xls","XLS"].includes(this.fileThumb.url.slice(-3))},hidden(){return{url:this.fileThumb.url=this.value.url,visible:this.fileThumb.visible=!0}}},watch:{value(t){t&&(this.fileThumb.visible=!0,this.fileThumb.url=t.url)}},data(){return{template:"",file:[],fileThumb:{url:"",visible:!1},fileList:[]}},methods:{upload(t){let e=new FormData;e.append("file",t),this.$http.post("/upload/",e).then(({data:t})=>{this.$toast.success("Rasm yuklandi"),this.$emit("emit:up",t),this.fileThumb.url=t.url,this.fileThumb.visible=!0}).catch(()=>this.$t("Dashboard.e"))},deleteFile(t){confirm(this.$t("Dashboard.d"))&&(this.fileThumb.visible=!1,this.fileThumb.url="",this.file=[])}}},r=o,n=a("0c7c"),d=Object(n["a"])(r,s,l,!1,null,null,null);e["a"]=d.exports}}]);
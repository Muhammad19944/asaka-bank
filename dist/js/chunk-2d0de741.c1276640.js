(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de741"],{"865b":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"application-form-view"},[e("app-card",[e("div",{staticClass:"form-wrap d-flex flex-column m-h-100 pa-5 px-6"},[e("div",{staticClass:"d-flex align-center mb-8"},[e("h4",{staticClass:"text--primary text-uppercase font-700 mr-4"},[t._v("Ko'rish")]),e("v-divider",{staticStyle:{"border-color":"rgb(var(--border-color), 1)"}})],1),e("div",{staticClass:"flex-1"},[e("div",{staticClass:"form-wrap-body"},[e("v-row",[t.applicationModel.is_completed?[e("v-col",{attrs:{md:"12"}},[e("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.$t("LastCorrections.endConversation")))])],1)]:t._e(),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("Dashboard.AboutBank.fio")))]),e("v-text-field",{attrs:{readonly:"",outlined:"","hide-details":""},model:{value:t.applicationModel.full_name,callback:function(a){t.$set(t.applicationModel,"full_name",a)},expression:"applicationModel.full_name"}})],1)]),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("Services.OpenCard.phone")))]),e("v-text-field",{attrs:{outlined:"",readonly:"","hide-details":""},model:{value:t.applicationModel.phone,callback:function(a){t.$set(t.applicationModel,"phone",a)},expression:"applicationModel.phone"}})],1)]),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("Dashboard.AboutBank.email")))]),e("v-text-field",{attrs:{outlined:"",readonly:"","hide-details":""},model:{value:t.applicationModel.email,callback:function(a){t.$set(t.applicationModel,"email",a)},expression:"applicationModel.email"}})],1)]),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("LastCorrections.status")))]),e("v-text-field",{attrs:{outlined:"",readonly:"","hide-details":""},model:{value:t.applicationModel.status&&t.applicationModel.status.name_uz,callback:function(a){t.$set(t.applicationModel.status&&t.applicationModel.status,"name_uz",a)},expression:"applicationModel.status && applicationModel.status.name_uz"}})],1)]),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("LastCorrections.changeStatus")))]),e("v-select",{attrs:{items:t.statusList,readonly:t.applicationModel.is_completed,"item-text":"name_uz","item-value":"id",outlined:"","hide-details":""},on:{change:t.changeStatus},scopedSlots:t._u([{key:"append",fn:function(){return[e("chevron-down-icon",{staticClass:"text-secondary-dark",attrs:{size:"1.35x"}})]},proxy:!0}])})],1)]),e("v-col",{attrs:{md:"4"}}),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("LastCorrections.fromCustomer")))]),e("v-textarea",{attrs:{outlined:"",readonly:"","hide-details":"","no-resize":""},model:{value:t.applicationModel.text,callback:function(a){t.$set(t.applicationModel,"text",a)},expression:"applicationModel.text"}})],1)]),e("v-col",{attrs:{md:"4"}},[e("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[e("h5",{staticClass:"font-600 dark-text mb-1"},[t._v(t._s(t.$t("LastCorrections.toCustomer")))]),e("v-textarea",{attrs:{error:t.$v.applicationRequestModel.text.$error,readonly:t.applicationModel.is_completed,outlined:"","hide-details":"","no-resize":""},model:{value:t.$v.applicationRequestModel.text.$model,callback:function(a){t.$set(t.$v.applicationRequestModel.text,"$model",a)},expression:"$v.applicationRequestModel.text.$model"}})],1)])],2)],1)]),e("div",[e("v-col",{attrs:{md:"12"}},[e("go-back-button"),t.applicationModel.is_completed?t._e():[e("send-button",{on:{"emit:up":t.send}})]],2)],1)])])],1)},s=[],i=e("87d8"),l=e("9e43"),n=e("0130"),p=e("0a35"),r=e("b5ae"),d={name:"Read",components:{AppCard:i["a"],GoBackButton:l["a"],SendButton:n["a"],ChevronDownIcon:p["e"]},data(){return{statusList:[],applicationModel:{full_name:"",phone:"",email:"",text:""},applicationRequestModel:{application:+this.$route.params.id,text:"",file:null}}},validations:{applicationRequestModel:{text:{required:r["required"]}}},mounted(){this.getOne(),this.getStatusList()},methods:{getOne(){this.$http.get(`/8/compliance/action/${this.$route.params.id}/`).then(({data:t})=>{this.applicationModel=t,this.applicationRequestModel.text=t.application_outcome.text})},changeStatus(t){this.$http.put(`/1/compliance/action/${this.$route.params.id}/`,{status:t}).then(()=>{this.$toast.success("Status o'zgartirildi")}).catch(()=>{this.$toast.error("O'zgartirishda xatolik")})},getStatusList(){this.$http.get("/1/status/").then(({data:t})=>{this.statusList=t.results})},send(){this.$v.$touch(),this.$v.$invalid||this.$http.post("/8/application/result/",this.applicationRequestModel).then(()=>{this.$toast.success("Murojat mijozga yuborildi"),setTimeout(()=>{this.$router.push({name:"FeedbackComplianceList"})},1500)}).catch(t=>{this.$toast.error(t.data.join())})}}},c=d,u=e("0c7c"),m=Object(u["a"])(c,o,s,!1,null,null,null);a["default"]=m.exports}}]);
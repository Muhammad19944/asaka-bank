(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5d92"],{"95dd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"online-credit-view"},[a("v-container",[a("div",{staticClass:"online-credit-content py-10"},[a("v-row",[a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.FISH"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-text-field",{attrs:{error:e.$v.formRequestModel.full_name.$error,outlined:"","hide-details":"",placeholder:e.$t("Services.OpenCard.FISH_sub")},model:{value:e.$v.formRequestModel.full_name.$model,callback:function(t){e.$set(e.$v.formRequestModel.full_name,"$model",t)},expression:"$v.formRequestModel.full_name.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.phone"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"+998 (##) ### ## ##",expression:"'+998 (##) ### ## ##'"}],attrs:{error:e.$v.formRequestModel.phone.$error,outlined:"","hide-details":"",placeholder:e.$t("Services.OpenCard.phone_sub")},model:{value:e.$v.formRequestModel.phone.$model,callback:function(t){e.$set(e.$v.formRequestModel.phone,"$model",t)},expression:"$v.formRequestModel.phone.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.mail"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-text-field",{attrs:{error:e.$v.formRequestModel.email.$error,outlined:"","hide-details":"",placeholder:e.$t("Services.OpenCard.mail")},model:{value:e.$v.formRequestModel.email.$model,callback:function(t){e.$set(e.$v.formRequestModel.email,"$model",t)},expression:"$v.formRequestModel.email.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.stir"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-text-field",{attrs:{error:e.$v.formRequestModel.tax_inn.$error,outlined:"","hide-details":"",maxlength:"9",placeholder:e.$t("Services.OpenCard.stir")},model:{value:e.$v.formRequestModel.tax_inn.$model,callback:function(t){e.$set(e.$v.formRequestModel.tax_inn,"$model",t)},expression:"$v.formRequestModel.tax_inn.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.residence"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-select",{attrs:{error:e.$v.formRequestModel.district.$error,items:e.districtList,"item-text":"uz"===this.$i18n.locale?"name_uz":"ru"===this.$i18n.locale?"name_ru":"name_en","item-value":"id",outlined:"","hide-details":"",placeholder:e.$t("Services.OpenCard.residence_sub")},on:{change:e.getBranches},scopedSlots:e._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}]),model:{value:e.$v.formRequestModel.district.$model,callback:function(t){e.$set(e.$v.formRequestModel.district,"$model",t)},expression:"$v.formRequestModel.district.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("I18nVue",{attrs:{t:"Services.OpenCard.filial"}}),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-select",{attrs:{error:e.$v.formRequestModel.filial.$error,items:e.branchesList,"item-text":"uz"===this.$i18n.locale?"name_uz":"ru"===this.$i18n.locale?"name_ru":"name_en","item-value":"id",outlined:"","hide-details":"","no-data-text":e.$t("Services.OpenCard.no_data"),placeholder:e.$t("Services.OpenCard.filial_sub")},scopedSlots:e._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}]),model:{value:e.$v.formRequestModel.filial.$model,callback:function(t){e.$set(e.$v.formRequestModel.filial,"$model",t)},expression:"$v.formRequestModel.filial.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.passport"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-file-input",{attrs:{error:e.$v.fileInputModel.$error,"prepend-icon":"","hide-details":"","show-size":"",outlined:"",placeholder:e.$t("Services.OpenCard.passport")},on:{change:e.getFile},model:{value:e.$v.fileInputModel.$model,callback:function(t){e.$set(e.$v.fileInputModel,"$model",t)},expression:"$v.fileInputModel.$model"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.currency_type"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-select",{attrs:{items:e.currencyList,"return-object":"","item-text":"name","item-value":"value",outlined:"","hide-details":"",placeholder:e.$t("Services.OpenCard.currency_type")},on:{change:e.getDepositList},scopedSlots:e._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}]),model:{value:e.defaultCurrency,callback:function(t){e.defaultCurrency=t},expression:"defaultCurrency"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.deposit_type"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-select",{attrs:{items:e.depositList,"item-text":"uz"===this.$i18n.locale?"title_uz":"ru"===this.$i18n.locale?"title_ru":"title_en","item-value":"id","return-object":"",outlined:"","hide-details":"","no-data-text":e.$t("Services.OpenCard.no_data"),placeholder:e.$t("Services.OpenCard.deposit_type")},on:{change:e.getDepositID},scopedSlots:e._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}]),model:{value:e.depositType,callback:function(t){e.depositType=t},expression:"depositType"}})],1)]),a("v-col",{attrs:{md:"6"}},[a("div",{staticClass:"app-form-group mb-10"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"DepositCalculator.amount"}})],1),a("v-divider",{staticClass:"mt-3 mb-8",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-text-field",{staticClass:"progress-field",attrs:{maxlength:e.maxLengthAmount,outlined:"","hide-details":""},model:{value:e.periodAmountInput,callback:function(t){e.periodAmountInput=t},expression:"periodAmountInput"}}),a("div",{staticClass:"mt-n2"},[a("vue-slider",{staticClass:"pa-0",attrs:{tooltip:"none",dotSize:[20,20],height:8,min:0,max:e.periodAmountRange.max,interval:100,"process-style":{backgroundColor:"rgba(var(--main-primary))"},"tooltip-style":{backgroundColor:"rgba(var(--main-primary))",borderColor:"rgba(var(--main-primary))"}},on:{dragging:e.dragging,change:e.dragChange},scopedSlots:e._u([{key:"step",fn:function(e){e.label;var t=e.active;return[a("div",{class:["custom-step",{active:t}]})]}}]),model:{value:e.periodAmountRange.value,callback:function(t){e.$set(e.periodAmountRange,"value",t)},expression:"periodAmountRange.value"}})],1)],1)]),a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"app-form-group mb-10"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.deposit_date"}})],1),a("v-divider",{staticClass:"mt-3 mb-8",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-radio-group",{attrs:{"hide-details":""},on:{change:e.getMonth},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{staticClass:"app-track"},[a("div",{staticClass:"track-top d-flex p-relative"},[e._l(e.depositPeriodList,(function(t,r){return[a("v-radio",{key:r,staticClass:"d-none",attrs:{id:"check-"+r,value:t}}),a("label",{key:t.index,staticClass:"track-label flex-1 pointer pb-6 p-relative",class:0===r?"active":"",attrs:{for:"check-"+r},on:{click:function(t){return e.getTrackSize(t)}}},[a("span",{staticClass:"text--h1 primary-text text-center d-block"},[e._v(e._s(t.month))])])]}))],2),a("div",{staticClass:"track-bottom d-flex"},[e._l(e.depositPeriodList,(function(t,r){return[a("div",{key:r,staticClass:"flex-1 text-center py-3"},[a("span",{staticClass:"text-small"},[e._v(e._s(t.month)+" "),a("I18nVue",{attrs:{t:"DepositCalculator.month"}})],1)])]}))],2)])]},proxy:!0}]),model:{value:e.depositPeriodRadios,callback:function(t){e.depositPeriodRadios=t},expression:"depositPeriodRadios"}})],1)]),a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.message"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-textarea",{attrs:{outlined:"","hide-details":"",placeholder:e.$t("Services.OpenCard.message")},model:{value:e.formRequestModel.text,callback:function(t){e.$set(e.formRequestModel,"text",t)},expression:"formRequestModel.text"}})],1)]),"uz"===e.$i18n.locale?a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[e._v("Ommaviy oferta")]),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("div",{staticClass:"d-flex align-start"},[a("v-checkbox",{staticClass:"ma-0",attrs:{"hide-details":"",color:"danger"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),a("h4",{staticClass:"font-600 dark-text"},[a("router-link",{staticClass:"text-decoration-none primary-text",attrs:{to:{name:"PublicOffer"}}},[e._v("ommaviy oferta ")]),e._v(" shartlari bilan tanishdim ")],1)],1)],1)]):e._e(),"en"===e.$i18n.locale?a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[e._v("Public offer")]),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("div",{staticClass:"d-flex align-start"},[a("v-checkbox",{staticClass:"ma-0",attrs:{"hide-details":"",color:"danger"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),a("h4",{staticClass:"font-600 dark-text"},[e._v(" I got acquainted with the conditions of "),a("router-link",{staticClass:"text-decoration-none primary-text",attrs:{to:{name:"PublicOffer"}}},[e._v("public offer ")])],1)],1)],1)]):e._e(),"ru"===e.$i18n.locale?a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"app-form-group mb-7"},[a("h4",{staticClass:"font-600 dark-text"},[e._v("Публичная оферта")]),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("div",{staticClass:"d-flex align-start"},[a("v-checkbox",{staticClass:"ma-0",attrs:{"hide-details":"",color:"danger"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),a("h4",{staticClass:"font-600 dark-text"},[e._v(" Я ознакомился(-ась) с условиями "),a("router-link",{staticClass:"text-decoration-none primary-text",attrs:{to:{name:"PublicOffer"}}},[e._v("публичная оферта ")])],1)],1)],1)]):e._e(),a("v-btn",{attrs:{disabled:!e.checkbox,depressed:"",color:"danger",rounded:"","min-width":"192","min-height":"50"},on:{click:e.send}},[a("span",{staticClass:"text-white font-700"},[e._v(e._s(e.$t("Nav.PrivateClients.InteractiveServices.OpenDeposit")))])])],1)],1)]),a("app-snackbar",{ref:"appSnackbar"})],1)},s=[],i=a("22ef"),o=a("4ad2"),l=a("0a35"),d=a("b5ae"),n=a("d1f9"),c={name:"index",components:{AppBreadCrumb:i["a"],AppSnackbar:o["a"],ChevronDownIcon:l["e"],I18nVue:n["a"]},data(){return{periodAmountInput:"",depositPeriodList:[],depositPeriodRadios:{},depositPeriodPercent:{},periodAmountRange:{value:0,min:0,max:0},depositType:"",value:0,checkbox:!1,formRequestModel:{full_name:"",phone:"",email:"",passport:null,tax_inn:"",deposit:null,deposit_amt:null,deposit_period:"",district:null,filial:null,text:""},currencyList:[{name:"UZS",value:"milliy_valyutada"},{name:"USD",value:"aqsh_dollarida"},{name:"EUR",value:"yevroda_omonatlar"}],defaultCurrency:{name:"UZS",value:"milliy_valyutada"},fileInputModel:null,districtList:[],branchesList:[],depositList:[],rangeModel:{rangeValue:"",rangeMax:0},maxLengthAmount:"",calcModel:{amount:"",duration:[]}}},validations:{fileInputModel:{required:d["required"]},currencyList:{required:d["required"]},formRequestModel:{full_name:{required:d["required"]},phone:{required:d["required"]},email:{required:d["required"],email:d["email"]},tax_inn:{required:d["required"]},district:{required:d["required"]},filial:{required:d["required"]}}},watch:{periodAmountInput(e){const t=String(e).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," "),a=t.replace(/ /g,"");if(a>this.periodAmountRange.max)return this.periodAmountInput=this.periodAmountRange.max,!1;this.periodAmountInput=t,this.periodAmountRange.value=a},depositType(e){e&&this.getDepositID({id:e.id})},"rangeModel.rangeValue"(e){this.calcModel.amount=e}},mounted(){this.getDistrict(),this.getDepositID({id:1}),this.getDepositList("milliy_valyutada")},methods:{dragChange(e){this.periodAmountInput=e},send(){this.$v.$touch(),this.$v.$invalid||(this.formRequestModel.phone=this.formRequestModel.phone.replace(/\D/g,""),this.formRequestModel.deposit=this.depositType.id,this.formRequestModel.deposit_amt=Number(this.periodAmountInput.replace(/\D/g,"")),this.formRequestModel.deposit_period=String(this.depositPeriodRadios),this.$http.post("/deposit_application/create/",this.formRequestModel).then(e=>{const{appSnackbar:t}=this.$refs;t.snackbar=!0,t.text="Murojat muvaffaqiyatli yuborildi",this.fileInputModel={},this.currencyModel="";for(let a in this.formRequestModel)this.formRequestModel[a]="";this.$v.$reset()}))},getDepositList(e){this.$http.get("/1/deposit/",{params:{type:e.value}}).then(({data:e})=>{this.depositList=e.results,this.depositType=this.depositList[0]})},getDepositOptions(e){this.$http.get(`/1/deposit/${e}/property/`).then(({data:e})=>{const{amount:t}=e.results[0],a=String(t).length;this.rangeModel.rangeMax=t,this.additionalDetails=e.results,this.calcModel.duration=e.results[0].deposit_period,this.maxLengthAmount=a%3===0?a+Math.floor(a/3-1):a+Math.floor(a/3)})},getDistrict(){this.$http.get("/1/district/",{params:{page_size:500}}).then(({data:e})=>{this.districtList=e.results})},getBranches(e){this.$http.get("/1/filial/",{params:{district:e,type:"filial",page_size:500}}).then(({data:e})=>{this.branchesList=e.results})},getFile(e){let t=new FormData;t.append("passport_image",e),t.append("given_name","passport_image"),this.$http.post("/upload/",t).then(({data:e})=>{this.formRequestModel.passport=e.id})},dragging(e){this.periodAmountInput=e},getTrackSize(e){const t=document.querySelectorAll(".track-label"),a=e.target.closest(".track-label");t.forEach(e=>e.classList.remove("active")),a.classList.add("active")},getDepositID(e){this.$http.get(`/1/deposit/${e.id}/period/`).then(({data:e})=>{const{min_amt:t,max_amt:a,calculation_info:r}=e.results[0],s=String(a).length;this.calculationInfoList=r,this.calculationInfoSelect=this.calculationInfoList[0],this.depositMinAmount=t,this.depositMaxAmount=a,this.depositPeriodList=r,this.depositPeriodRadios=this.depositPeriodList[0].month,this.depositPeriodPercent=this.depositPeriodList[0].percent,this.periodAmountRange.max=parseInt(a.replace(/ /g,"")),setTimeout(()=>{this.periodAmountRange.value=parseInt(t.replace(/ /g,"")),this.periodAmountInput=this.periodAmountRange.value},0),this.maxLengthAmount=s})},getMonth(e){this.depositPeriodPercent=e.percent,this.depositPeriodRadios=e.month}}},p=c,u=a("0c7c"),m=Object(u["a"])(p,r,s,!1,null,null,null);t["default"]=m.exports}}]);
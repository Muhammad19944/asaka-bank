(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2f7ce7a"],{"8d9d":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v(" "+e._s(e.label)+" "),e.subLabel?[s("span",{staticClass:"red--text"},[e._v("("+e._s(e.subLabel)+")")])]:e._e()],2),s("div",{staticClass:"d-flex align-center"},[s("v-file-input",{staticClass:"file-uploader mr-2",attrs:{disabled:e.disabled||e.readonly,"prepend-icon":"",accept:"image/png, image/jpeg, image/jpg, image/bmp",outlined:"","hide-details":""},on:{change:e.upload},scopedSlots:e._u([{key:"append",fn:function(){return[s("v-btn",{staticStyle:{"margin-top":"-6px"},attrs:{depressed:"",color:"rgba(var(--primary), 1)"}},[s("span",{staticClass:"text-transform-reset text-white"},[e._v(e._s(e.$t("Dashboard.upload_file")))])])]},proxy:!0}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e.value?[s("span",{staticClass:"d-none"},[e._v(e._s(e.hidden))]),e.fileThumb.visible?[s("div",{staticClass:"file-upload-wrap rounded overflow-hidden p-relative"},[e.extension?[s("a",{staticClass:"border-all d-flex align-center justify-center w-100 h-100 rounded",attrs:{href:"#"}},[s("file-text-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})],1)]:[s("img",{staticClass:"d-block img-cover",attrs:{src:e.$http.defaults.baseURL+e.fileThumb.url,alt:"Card image"}})],s("div",{staticClass:"file-upload-actions p-absolute w-100 h-100 d-flex align-center justify-space-around px-2 transition-ease-in-out"},[s("a",{staticClass:"rounded-circle d-flex align-center justify-center outline-transparent",attrs:{href:e.$http.defaults.baseURL+e.fileThumb.url,download:"",target:"_blank",rel:"noopener noreferrer"}},[s("download-icon",{staticClass:"text-white d-block",attrs:{size:"1.2x"}})],1),e.readonly?e._e():[s("button",{staticClass:"rounded-circle d-flex align-center justify-center outline-transparent",attrs:{type:"button"},on:{click:e.deleteFile}},[s("trash2-icon",{staticClass:"text-white d-block",attrs:{size:"1.1x"}})],1)]],2)],2)]:e._e()]:e._e()],2)])},r=[],l=s("0a35"),o={name:"FileUpload",props:{label:{type:String},subLabel:{type:String,default:""},disabled:{type:Boolean,default:!1},value:{type:Object,default:()=>{}},readonly:{type:Boolean,default:!1}},components:{EyeIcon:l["n"],Trash2Icon:l["M"],FileTextIcon:l["q"],DownloadIcon:l["k"]},computed:{extension(){return["pdf","PDF","doc","docx","DOC","csv","CSV","xls","XLS"].includes(this.fileThumb.url.slice(-3))},hidden(){return{url:this.fileThumb.url=this.value.url,visible:this.fileThumb.visible=!0}}},watch:{value(e){e&&(this.fileThumb.visible=!0,this.fileThumb.url=e.url)}},data(){return{template:"",file:[],fileThumb:{url:"",visible:!1},fileList:[]}},methods:{upload(e){let t=new FormData;t.append("file",e),this.$http.post("/upload/",t).then(({data:e})=>{this.$toast.success("Rasm yuklandi"),this.$emit("emit:up",e),this.fileThumb.url=e.url,this.fileThumb.visible=!0}).catch(()=>this.$t("Dashboard.e"))},deleteFile(e){confirm(this.$t("Dashboard.d"))&&(this.fileThumb.visible=!1,this.fileThumb.url="",this.file=[])}}},i=o,d=s("0c7c"),n=Object(d["a"])(i,a,r,!1,null,null,null);t["a"]=n.exports},"9fde":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"category-form-view"},[s("app-card",[s("div",{staticClass:"form-wrap d-flex flex-column m-h-100 pa-5 px-6"},[s("div",{staticClass:"d-flex align-center mb-8"},[s("h4",{staticClass:"text--primary text-uppercase font-700 mr-4"},[e._v(" "+e._s("Create"===e.TYPE?e.$t("Dashboard.add_new"):"Update"===e.TYPE?e.$t("Dashboard.update"):e.$t("Dashboard.read"))+" ")]),s("v-divider",{staticStyle:{"border-color":"rgb(var(--border-color), 1)"}})],1),s("div",{staticClass:"flex-1"},[s("v-row",[s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v("username")]),s("v-text-field",{attrs:{error:e.$v.usersModel.username.$error,readonly:"Read"===e.TYPE,outlined:"","hide-details":""},model:{value:e.$v.usersModel.username.$model,callback:function(t){e.$set(e.$v.usersModel.username,"$model",t)},expression:"$v.usersModel.username.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v("first_name")]),s("v-text-field",{attrs:{error:e.$v.usersModel.first_name.$error,readonly:"Read"===e.TYPE,outlined:"","hide-details":""},model:{value:e.$v.usersModel.first_name.$model,callback:function(t){e.$set(e.$v.usersModel.first_name,"$model",t)},expression:"$v.usersModel.first_name.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v("last_name")]),s("v-text-field",{attrs:{error:e.$v.usersModel.last_name.$error,readonly:"Read"===e.TYPE,outlined:"","hide-details":""},model:{value:e.$v.usersModel.last_name.$model,callback:function(t){e.$set(e.$v.usersModel.last_name,"$model",t)},expression:"$v.usersModel.last_name.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v("role")]),s("v-select",{attrs:{error:e.$v.usersModel.role.$error,items:[1,2,3,4,5],readonly:"Read"===e.TYPE,outlined:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}]),model:{value:e.$v.usersModel.role.$model,callback:function(t){e.$set(e.$v.usersModel.role,"$model",t)},expression:"$v.usersModel.role.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v("company")]),s("v-select",{attrs:{error:e.$v.usersModel.company.$error,items:[1,2,3,4,5],readonly:"Read"===e.TYPE,outlined:"","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}]),model:{value:e.$v.usersModel.company.$model,callback:function(t){e.$set(e.$v.usersModel.company,"$model",t)},expression:"$v.usersModel.company.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[e._v("password")]),s("v-text-field",{attrs:{error:e.$v.usersModel.password.$error,"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.rules.min],type:e.show?"text":"password",readonly:"Read"===e.TYPE,outlined:"","hide-details":""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.$v.usersModel.password.$model,callback:function(t){e.$set(e.$v.usersModel.password,"$model",t)},expression:"$v.usersModel.password.$model"}})],1)])],1)],1),s("div",{staticClass:"mt-8"},[s("go-back-button"),"Create"===e.TYPE?[s("send-button",{attrs:{text:e.$t("Dashboard.create")},on:{"emit:up":e.send}})]:"Update"===e.TYPE?[s("send-button",{attrs:{text:e.$t("Dashboard.update")},on:{"emit:up":e.update}})]:e._e()],2)])])],1)},r=[],l=s("87d8"),o=s("0130"),i=s("9e43"),d=s("8d9d"),n=s("b5ae"),u=s("0a35"),c={name:"RolesForm",props:{TYPE:{type:String,default:""}},components:{AppCard:l["a"],SendButton:o["a"],GoBackButton:i["a"],FileUpload:d["a"],ChevronDownIcon:u["e"]},data(){return{show:!1,rules:{min:e=>e.length>=8||"Min 8 characters"},usersModel:{username:"",first_name:"",last_name:"",role:"",company:null,password:"",is_deleted:!1,is_active:!0}}},validations:{usersModel:{username:{required:n["required"]},first_name:{required:n["required"]},last_name:{required:n["required"]},role:{required:n["required"]},company:{required:n["required"]},password:{required:n["required"]}}},mounted(){this.$route.params.id&&this.getOne()},methods:{send(){this.$v.$touch(),this.$v.$invalid?this.$toast.warning("Field to'ldirilishi shart"):this.$http.post(`/${this.$store.state.auth.COMPANY_ID}/employee/`,this.usersModel).then(e=>{this.$toast.success("Yaratildi"),setTimeout(()=>{this.$router.push({name:"OtherSectionRolesList"})},1500)}).catch(e=>{this.$toast.error("Yaratishda xatolik"),this.resetFields()})},update(){this.$v.$touch(),this.$v.$invalid?this.$toast.warning("Field to'ldirilishi shart"):this.$http.put(`/${this.$store.state.auth.COMPANY_ID}/employee/${this.$route.params.id}/`,this.usersModel).then(e=>{this.$toast.success("Yangilandi"),setTimeout(()=>{this.$router.push({name:"OtherSectionRolesList"})},1500)}).catch(e=>{this.$toast.error("Yangilashda xatolik"),this.resetFields()})},getOne(){this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/employee/${this.$route.params.id}/`).then(({data:e})=>{this.usersModel=e})},roleList(){}}},p=c,m=s("0c7c"),h=Object(m["a"])(p,a,r,!1,null,null,null);t["a"]=h.exports},a8ab:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("roles-form",{attrs:{TYPE:e.$store.state.FORM_TYPE.UPDATE}})},r=[],l=s("9fde"),o={name:"Update",components:{RolesForm:l["a"]}},i=o,d=s("0c7c"),n=Object(d["a"])(i,a,r,!1,null,null,null);t["default"]=n.exports}}]);
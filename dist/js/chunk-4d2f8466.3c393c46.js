(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d2f8466"],{a1c4:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"news-form-view"},[s("app-card",[s("div",{staticClass:"form-wrap d-flex flex-column h-100 pa-5 px-6"},[s("div",{staticClass:"d-flex align-center mb-8"},[s("h4",{staticClass:"text--primary text-uppercase font-700 mr-4"},[e._v(" "+e._s("Create"===e.TYPE?e.$t("Dashboard.add_new"):"Update"===e.TYPE?e.$t("Dashboard.update"):e.$t("Dashboard.read"))+" ")]),s("v-divider",{staticStyle:{"border-color":"rgb(var(--border-color), 1)"}})],1),s("div",{staticClass:"flex-1"},[s("v-row",[s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[s("I18nVue",{attrs:{classes:"font-700 text-small",t:"Dashboard.AboutBank.name"}}),e._v(" (UZ) ")],1),s("v-text-field",{attrs:{error:e.$v.divisionModel.name_uz.$error,readonly:"Read"===e.TYPE,outlined:"","hide-details":""},model:{value:e.$v.divisionModel.name_uz.$model,callback:function(t){e.$set(e.$v.divisionModel.name_uz,"$model",t)},expression:"$v.divisionModel.name_uz.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[s("I18nVue",{attrs:{classes:"font-700 text-small",t:"Dashboard.AboutBank.name"}}),e._v(" (RU) ")],1),s("v-text-field",{attrs:{error:e.$v.divisionModel.name_ru.$error,readonly:"Read"===e.TYPE,outlined:"","hide-details":""},model:{value:e.$v.divisionModel.name_ru.$model,callback:function(t){e.$set(e.$v.divisionModel.name_ru,"$model",t)},expression:"$v.divisionModel.name_ru.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[s("I18nVue",{attrs:{classes:"font-700 text-small",t:"Dashboard.AboutBank.name"}}),e._v(" (EN) ")],1),s("v-text-field",{attrs:{error:e.$v.divisionModel.name_en.$error,readonly:"Read"===e.TYPE,outlined:"","hide-details":""},model:{value:e.$v.divisionModel.name_en.$model,callback:function(t){e.$set(e.$v.divisionModel.name_en,"$model",t)},expression:"$v.divisionModel.name_en.$model"}})],1)]),s("v-col",{attrs:{md:"4"}},[s("div",{staticClass:"app-form-group app-form-group__small no-shadow mb-2"},[s("h5",{staticClass:"font-600 dark-text mb-1"},[s("I18nVue",{attrs:{t:"Dashboard.AboutBank.members"}})],1),"uz"===e.$i18n.locale?[s("v-select",{attrs:{error:e.$v.memberSelected.$error,items:e.membersList,"item-text":"full_name_uz",readonly:"Read"===e.TYPE,outlined:"","hide-details":"",multiple:"","return-object":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}],null,!1,2932708987),model:{value:e.$v.memberSelected.$model,callback:function(t){e.$set(e.$v.memberSelected,"$model",t)},expression:"$v.memberSelected.$model"}})]:e._e(),"ru"===e.$i18n.locale?[s("v-select",{attrs:{error:e.$v.memberSelected.$error,items:e.membersList,"item-text":"full_name_ru",readonly:"Read"===e.TYPE,outlined:"","hide-details":"",multiple:"","return-object":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}],null,!1,2932708987),model:{value:e.$v.memberSelected.$model,callback:function(t){e.$set(e.$v.memberSelected,"$model",t)},expression:"$v.memberSelected.$model"}})]:e._e(),"en"===e.$i18n.locale?[s("v-select",{attrs:{error:e.$v.memberSelected.$error,items:e.membersList,"item-text":"full_name_en",readonly:"Read"===e.TYPE,outlined:"","hide-details":"",multiple:"","return-object":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}],null,!1,2932708987),model:{value:e.$v.memberSelected.$model,callback:function(t){e.$set(e.$v.memberSelected,"$model",t)},expression:"$v.memberSelected.$model"}})]:e._e()],2)])],1)],1),s("div",{staticClass:"mt-8"},[s("go-back-button"),"Create"===e.TYPE?[s("send-button",{attrs:{text:e.$t("Dashboard.create")},on:{"emit:up":e.send}})]:"Update"===e.TYPE?[s("send-button",{attrs:{text:e.$t("Dashboard.update")},on:{"emit:up":e.update}})]:e._e()],2)])])],1)},r=[],o=s("87d8"),i=s("0130"),d=s("9e43"),n=s("0a35"),l=s("b5ae"),m=s("d1f9"),u={name:"ShareholderForm",props:{TYPE:{type:String,default:""}},components:{I18nVue:m["a"],AppCard:o["a"],SendButton:i["a"],GoBackButton:d["a"],ChevronDownIcon:n["e"]},data(){return{divisionModel:{name_uz:"",name_ru:"",name_en:"",members:[]},membersList:[],memberSelected:[]}},validations:{divisionModel:{name_uz:{required:l["required"]},name_ru:{required:l["required"]},name_en:{required:l["required"]}},memberSelected:{required:l["required"]}},mounted(){this.$route.params.id&&this.getOne(),this.getListMembers()},methods:{send(){this.$v.$touch(),this.$v.$invalid?this.$toast.warning(this.$t("Dashboard.f")):(this.memberSelected.forEach(e=>this.divisionModel.members.push({id:e.id})),this.$http.post(`/${this.$store.state.auth.COMPANY_ID}/department/`,this.divisionModel).then(({data:e})=>{this.$toast.success(this.$t("Dashboard.c")),this.divisionModel=e,setTimeout(()=>{this.$router.push({name:"StructureDivisionList"})},1500)}).catch(()=>{this.$toast.error(this.$t("Dashboard.e"))}))},update(){this.$v.$touch(),this.$v.$invalid?this.$toast.warning(this.$t("Dashboard.f")):(this.divisionModel.members=[],this.memberSelected.forEach(e=>this.divisionModel.members.push({id:e.id})),this.$http.put(`/${this.$store.state.auth.COMPANY_ID}/department/${this.divisionModel.id}`,this.divisionModel).then(({data:e})=>{this.$toast.success(this.$t("Dashboard.y")),this.divisionModel=e,setTimeout(()=>{this.$router.push({name:"StructureDivisionList"})},1500)}).catch(()=>{this.$toast.error(this.$t("Dashboard.e"))}))},getOne(){this.$http.post(`/${this.$store.state.auth.COMPANY_ID}/department/${this.$route.params.id}`).then(({data:e})=>{this.divisionModel=e,this.memberSelected=e.members})},getListMembers(){this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/bank/structure/`,{params:{page_size:500}}).then(({data:e})=>{this.membersList=e.results})}}},c=u,h=s("0c7c"),$=Object(h["a"])(c,a,r,!1,null,null,null);t["a"]=$.exports},e0e7:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("structure-form",{attrs:{TYPE:e.$store.state.FORM_TYPE.UPDATE}})},r=[],o=s("a1c4"),i={name:"Update",components:{StructureForm:o["a"]}},d=i,n=s("0c7c"),l=Object(n["a"])(d,a,r,!1,null,null,null);t["default"]=l.exports}}]);
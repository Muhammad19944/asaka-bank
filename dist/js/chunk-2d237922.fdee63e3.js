(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237922"],{fc4c:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"online-credit-view"},[a("v-container",{staticClass:"p-relative"},[a("div",{staticClass:"view-title mb-15"},[a("h1",{staticClass:"font-600 dark-text align-self-center mb-3"},[a("I18nVue",{attrs:{t:"DepositCalculator.header"}})],1),a("h3",{staticClass:"grey-light-2"},[a("I18nVue",{attrs:{t:"DepositCalculator.header_sub"}})],1)]),a("v-row",[a("v-col",{attrs:{lg:"5",sm:"12"}},[t.$route.params.id?t._e():[a("div",{staticClass:"app-form-group mb-10"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"DepositCalculator.currency_type"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-select",{attrs:{items:t.currencyList,"return-object":"","item-text":"name","item-value":"value",outlined:"","hide-details":""},on:{change:t.getDepositList},scopedSlots:t._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}],null,!1,2932708987),model:{value:t.defaultCurrency,callback:function(e){t.defaultCurrency=e},expression:"defaultCurrency"}})],1)],t.$route.params.id?t._e():[a("div",{staticClass:"app-form-group mb-10"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"DepositCalculator.deposit_type"}})],1),a("v-divider",{staticClass:"mt-3 mb-7",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-select",{attrs:{items:t.depositList,"return-object":"","item-text":"uz"===t.$i18n.locale?"title_uz":"ru"===t.$i18n.locale?"title_ru":"title_en","item-value":"id","no-data-text":"Omonat turi mavjud emas",outlined:"","hide-details":""},on:{change:t.getDepositID},scopedSlots:t._u([{key:"append",fn:function(){return[a("chevron-down-icon",{staticClass:"grey--text",attrs:{size:"1.5x"}})]},proxy:!0}],null,!1,2932708987),model:{value:t.depositType,callback:function(e){t.depositType=e},expression:"depositType"}})],1)],a("div",{staticClass:"app-form-group mb-10"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"DepositCalculator.amount"}})],1),a("v-divider",{staticClass:"mt-3 mb-8",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-text-field",{staticClass:"progress-field",attrs:{maxlength:t.maxLengthAmount,outlined:"","hide-details":""},model:{value:t.periodAmountInput,callback:function(e){t.periodAmountInput=e},expression:"periodAmountInput"}}),a("div",{staticClass:"mt-n2"},[a("vue-slider",{staticClass:"pa-0",attrs:{tooltip:"none",dotSize:[20,20],height:8,min:0,max:t.periodAmountRange.max,interval:100,"process-style":{backgroundColor:"rgba(var(--main-primary))"},"tooltip-style":{backgroundColor:"rgba(var(--main-primary))",borderColor:"rgba(var(--main-primary))"}},on:{dragging:t.dragging,change:t.dragChange},scopedSlots:t._u([{key:"step",fn:function(t){t.label;var e=t.active;return[a("div",{class:["custom-step",{active:e}]})]}}]),model:{value:t.periodAmountRange.value,callback:function(e){t.$set(t.periodAmountRange,"value",e)},expression:"periodAmountRange.value"}})],1)],1),a("div",{staticClass:"app-form-group mb-10"},[a("h4",{staticClass:"font-600 dark-text"},[a("I18nVue",{attrs:{t:"Services.OpenCard.deposit_date"}})],1),a("v-divider",{staticClass:"mt-3 mb-8",staticStyle:{"border-color":"rgba(var(--border-color), 1)"}}),a("v-radio-group",{attrs:{"hide-details":""},on:{change:t.getMonth},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"app-track"},[a("div",{staticClass:"track-top d-flex p-relative"},[t._l(t.depositPeriodList,(function(e,i){return[a("v-radio",{key:i,staticClass:"d-none",attrs:{id:"check-"+i,value:e}}),a("label",{key:e.index,staticClass:"track-label flex-1 pointer pb-6 p-relative",class:0===i?"active":"",attrs:{for:"check-"+i},on:{click:function(e){return t.getTrackSize(e)}}},[a("span",{staticClass:"text--h1 primary-text text-center d-block"},[t._v(t._s(e.month))])])]}))],2),a("div",{staticClass:"track-bottom d-flex"},[t._l(t.depositPeriodList,(function(e,i){return[a("div",{key:i,staticClass:"flex-1 text-center py-3"},[a("span",{staticClass:"text-small"},[t._v(t._s(e.month)+" "),a("I18nVue",{attrs:{t:"DepositCalculator.month"}})],1)])]}))],2)])]},proxy:!0}]),model:{value:t.depositPeriodRadios,callback:function(e){t.depositPeriodRadios=e},expression:"depositPeriodRadios"}})],1)],2),a("v-spacer",{staticClass:"d-none d-sm-block"}),a("v-col",{attrs:{lg:"6",sm:"12"}},[a("div",{staticClass:"credit-widget widget-sticky pa-5 pa-sm-10 rounded-lg overflow-hidden"},[t.depositType?[a("div",{staticClass:"d-flex align-center justify-space-between font-600 dark-text mb-4 mb-sm-5"},[a("h3",[a("I18nVue",{attrs:{t:"DepositCalculator.annual_rate"}}),t._v(" : ")],1),a("h2",[t._v(" "+t._s(this.depositPeriodPercent)+" %")])]),a("div",{staticClass:"d-flex align-center justify-space-between font-600 dark-text mb-4 mb-sm-5"},[a("h3",[a("I18nVue",{attrs:{t:"DepositCalculator.thirty_days"}}),t._v(" : ")],1),a("h2",[t._v(" "+t._s(t.calculateThirtyDays)+" "),"milliy_valyutada"===t.currency?a("span",[t._v("UZS")]):t._e(),"aqsh_dollarida"===t.currency?a("span",[t._v("USD")]):t._e(),"yevroda_omonatlar"===t.currency?a("span",[t._v("EUR")]):t._e()])]),a("div",{staticClass:"d-flex align-center justify-space-between font-600 dark-text"},[a("h3",[a("I18nVue",{attrs:{t:"DepositCalculator.overall_profit"}}),t._v(" : ")],1),a("h2",[t._v(t._s(t.calculateOverall)+" "),"milliy_valyutada"===t.currency?a("span",[t._v("UZS")]):t._e(),"aqsh_dollarida"===t.currency?a("span",[t._v("USD")]):t._e(),"yevroda_omonatlar"===t.currency?a("span",[t._v("EUR")]):t._e()])])]:a("h1",[t._v("Omonat turi mavjud emas :(")]),a("v-divider",{staticClass:"my-5 my-sm-10"}),a("h5",[a("I18nVue",{attrs:{t:"DepositCalculator.text"}})],1),a("div",{staticClass:"d-flex flex-wrap flex-sm-nowrap mt-4"},[a("v-btn",{staticClass:"font-700 mt-5",attrs:{to:{name:"DepositOpen"},outlined:"",color:"rgba(var(--main-primary), 1)",rounded:"",height:"50","min-width":"192"}},[a("I18nVue",{attrs:{t:"DepositCalculator.open_deposit"}})],1)],1)],2)])],1)],1)],1)},s=[],o=a("d1f9"),r=a("0a35"),n=a("c1df"),l=a.n(n),d={name:"AppDepositCalc",props:{depositID:{type:[String,Number]},depositTypeText:{type:String}},components:{ChevronDownIcon:r["e"],I18nVue:o["a"]},data(){return{currency:"",defaultCurrency:{name:"UZS",value:"milliy_valyutada"},currencyList:[{name:"UZS",value:"milliy_valyutada"},{name:"USD",value:"aqsh_dollarida"},{name:"EUR",value:"yevroda_omonatlar"}],depositType:{},depositList:[],periodAmountInput:"",maxLengthAmount:"",calculationInfoList:[],calculationInfoSelect:{},depositMaxAmount:"",depositMinAmount:"",depositPeriodList:[],depositPeriodRadios:{},depositPeriodPercent:{},periodAmountRange:{value:0,min:0,max:0}}},watch:{periodAmountInput(t){const e=String(t).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," "),a=e.replace(/ /g,"");if(a>this.periodAmountRange.max)return this.periodAmountInput=this.periodAmountRange.max,!1;this.periodAmountInput=e,this.periodAmountRange.value=a},depositType(t){this.depositID||(this.currency=t.type,t&&this.getDepositID({id:t.id}))}},computed:{calculateThirtyDays(){let t=this.periodAmountInput.replace(/ /g,"")*(this.depositPeriodPercent/100)/365*30;return this.numberWithCommas(t.toFixed())},calculateOverall(){let t,e=this.periodAmountInput.replace(/ /g,""),a=this.depositPeriodRadios,i=this.depositPeriodPercent;for(let o=0;o<+a;o++)0===o?t=l()().add(o,"month").daysInMonth():t+=l()().add(o,"month").daysInMonth();let s=e*(i/100)/365*t;return this.numberWithCommas(s.toFixed())}},mounted(){this.depositID?(this.currency=this.depositTypeText,this.getDepositID({id:+this.depositID})):(this.getDepositID({id:1}),this.getDepositList({value:"milliy_valyutada"}))},methods:{dragChange(t){this.periodAmountInput=t},numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},dragging(t){this.periodAmountInput=t},getTrackSize(t){const e=document.querySelectorAll(".track-label"),a=t.target.closest(".track-label");e.forEach(t=>t.classList.remove("active")),a.classList.add("active")},getDepositList(t){this.$http.get("/1/deposit/",{params:{type:t.value}}).then(({data:t})=>{this.depositList=t.results,this.depositType=this.depositList[0]})},getDepositID(t){this.$http.get(`/1/deposit/${t.id}/period/`).then(({data:t})=>{const{min_amt:e,max_amt:a,calculation_info:i}=t.results[0],s=String(a).length;this.calculationInfoList=i,this.calculationInfoSelect=this.calculationInfoList[0],this.depositMinAmount=e,this.depositMaxAmount=a,this.depositPeriodList=i,this.depositPeriodRadios=this.depositPeriodList[0].month,this.depositPeriodPercent=this.depositPeriodList[0].percent,this.periodAmountRange.max=parseInt(a.replace(/ /g,"")),setTimeout(()=>{this.periodAmountRange.value=parseInt(e.replace(/ /g,"")),this.periodAmountInput=this.periodAmountRange.value},0),this.maxLengthAmount=s})},getMonth(t){this.depositPeriodPercent=t.percent,this.depositPeriodRadios=t.month}}},c=d,p=a("0c7c"),u=Object(p["a"])(c,i,s,!1,null,"3c81453c",null);e["a"]=u.exports}}]);
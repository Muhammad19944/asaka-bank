(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ab592eb"],{"133a":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-filter rounded-lg pa-4 mb-5"},[e("v-row",[t._t("default")],2)],1)},i=[],l={name:"AppFilter"},n=l,r=e("0c7c"),c=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=c.exports},"8fa9":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"empty-list d-flex align-center flex-column justify-center h-100"},[e("img",{staticClass:"d-block mb-6",staticStyle:{transform:"scale(0.9)"},attrs:{src:"/images/dashboard/empty-block.svg",alt:"Empty image"}}),e("div",{staticClass:"d-flex align-center"},[e("frown-icon",{staticClass:"dark-text",attrs:{size:"1.8x"}}),e("h2",{staticClass:"font-600 ml-3 dark-text"},[t._v(t._s(t.$t("Dashboard.no_information_found")))])],1)])},i=[],l=e("0a35"),n={name:"NotFound",components:{FrownIcon:l["r"]}},r=n,c=e("0c7c"),o=Object(c["a"])(r,s,i,!1,null,null,null);a["a"]=o.exports},9984:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cards-view"},[e("app-layout-scope-renderless",{attrs:{"api-url":"plastic_card/application/action",type:"card"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.filters,i=a.list,l=a.count,n=a.loading,r=a.paginate,c=a.exportToExcel;return[e("div",{staticClass:"d-flex flex-column h-100"},[e("app-filter",[e("v-col",{attrs:{md:"3"}},[e("div",{staticClass:"app-form-group no-shadow app-form-group__xs"},[e("v-text-field",{attrs:{outlined:"","hide-details":"",clearable:"",placeholder:"Search..."},model:{value:s.search,callback:function(a){t.$set(s,"search",a)},expression:"filters.search"}})],1)]),e("v-col",{attrs:{md:"3"}},[e("div",{staticClass:"app-form-group no-shadow app-form-group__xs"},[e("v-select",{attrs:{items:t.getStatusList,"item-text":"uz"===t.$i18n.locale?"name_uz":"ru"===t.$i18n.locale?"name_ru":"name_en","item-value":"id",outlined:"","hide-details":"",clearable:"",placeholder:t.$t("LastCorrections.filter_by_status")},scopedSlots:t._u([{key:"append",fn:function(){return[e("chevron-down-icon",{staticClass:"mt-1",attrs:{size:"1.2x"}})]},proxy:!0}],null,!0),model:{value:s.status,callback:function(a){t.$set(s,"status",a)},expression:"filters.status"}})],1)]),e("v-col",{attrs:{md:"3"}},[e("div",{staticClass:"app-form-group no-shadow app-form-group__xs"},[e("v-select",{attrs:{items:t.getPlasticCardList,"item-text":"uz"===t.$i18n.locale?"name_uz":"ru"===t.$i18n.locale?"name_ru":"name_en","item-value":"id",outlined:"","hide-details":"",clearable:"",placeholder:t.$t("LastCorrections.filter_by_card")},scopedSlots:t._u([{key:"append",fn:function(){return[e("chevron-down-icon",{staticClass:"mt-1",attrs:{size:"1.2x"}})]},proxy:!0}],null,!0),model:{value:s.card,callback:function(a){t.$set(s,"card",a)},expression:"filters.card"}})],1)]),e("v-col",{attrs:{md:"3"}},[e("div",{staticClass:"app-form-group no-shadow app-form-group__xs"},[e("v-select",{attrs:{items:t.getBranchesList,"item-text":"uz"===t.$i18n.locale?"name_uz":"ru"===t.$i18n.locale?"name_ru":"name_en","item-value":"id",outlined:"","hide-details":"",clearable:"",placeholder:t.$t("LastCorrections.filter_by_filial")},scopedSlots:t._u([{key:"append",fn:function(){return[e("chevron-down-icon",{staticClass:"mt-1",attrs:{size:"1.2x"}})]},proxy:!0}],null,!0),model:{value:s.filial,callback:function(a){t.$set(s,"filial",a)},expression:"filters.filial"}})],1)])],1),e("app-card",{staticClass:"mb-13",attrs:{title:t.$t("Dashboard.sidebar.card_applies")+" ("+l+")"},scopedSlots:t._u([{key:"add-view",fn:function(){return[e("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:c}},[e("div",{staticClass:"d-flex align-center"},[e("file-text-icon",{staticClass:"mr-1",attrs:{size:"1.35x"}}),e("span",{staticClass:"text-transform-reset"},[t._v("Export excel")])],1)])]},proxy:!0}],null,!0)},[n?e("app-loader"):t._e(),i.length?[e("v-simple-table",{staticClass:"admin-table"},[e("tbody",t._l(i,(function(a){return e("tr",{key:a.id,staticClass:"transition-fast-out-slow-in"},[e("td",{staticClass:"admin-table-td",attrs:{width:"100"}},[e("h5",{staticClass:"font-600"},[t._v("№ "+t._s(a.id))]),e("span",{staticClass:"text-small font-600 text-secondary-dark"},[t._v("ID")])]),e("td",{staticClass:"admin-table-td",attrs:{width:"300"}},[e("h5",{staticClass:"font-600"},[t._v(t._s(a.full_name))]),e("span",{staticClass:"text-small font-600 text-secondary-dark"},[t._v(t._s(t.$t("Dashboard.fio")))])]),e("td",{staticClass:"admin-table-td",attrs:{width:"250"}},[e("h5",{staticClass:"font-600"},[a.individual_design?["uz"===t.$i18n.locale?[t._v("Individual dizayndagi karta")]:t._e(),"ru"===t.$i18n.locale?[t._v("Карта индивидуального дизайна")]:t._e(),"en"===t.$i18n.locale?[t._v("Individual design card")]:t._e()]:["uz"===t.$i18n.locale?[t._v("Oddiy karta")]:t._e(),"ru"===t.$i18n.locale?[t._v("Простая карта")]:t._e(),"en"===t.$i18n.locale?[t._v("Simple card")]:t._e()]],2),e("span",{staticClass:"text-small font-600 text-secondary-dark"},[t._v("Karta")])]),e("td",{staticClass:"admin-table-td",attrs:{width:"250"}},[a.status?[e("v-chip",{staticClass:"mb-1 mr-2 text-capitalize",attrs:{color:a.is_paid?"primary":"danger","text-color":"white",small:""}},[a.is_paid?["uz"===t.$i18n.locale?[t._v("To'langan")]:t._e(),"ru"===t.$i18n.locale?[t._v("Оплачено")]:t._e(),"en"===t.$i18n.locale?[t._v("Paid")]:t._e()]:["uz"===t.$i18n.locale?[t._v("To'lanmagan")]:t._e(),"ru"===t.$i18n.locale?[t._v("Не оплачено")]:t._e(),"en"===t.$i18n.locale?[t._v("Not paid")]:t._e()]],2)]:t._e(),e("span",{staticClass:"text-small font-600 text-secondary-dark d-block"},["uz"===t.$i18n.locale?[t._v("Karta uchun to'lov")]:t._e(),"ru"===t.$i18n.locale?[t._v("Оплата за карту")]:t._e(),"en"===t.$i18n.locale?[t._v("Payment for the card")]:t._e()],2)],2),e("td",{staticClass:"admin-table-td"},[a.filial?[e("I18nVue",{attrs:{uz:a.filial.name_uz,ru:a.filial.name_ru,en:a.filial.name_en,classes:"text--h5 d-block font-600"}})]:t._e(),e("span",{staticClass:"text-small font-600 text-secondary-dark"},[t._v(t._s(t.$t("Dashboard.branches")))])],2),e("td",{staticClass:"admin-table-td",attrs:{width:"150"}},[a.status?[e("v-chip",{staticClass:"mb-1 mr-2 text-capitalize",attrs:{color:"New"===a.status.name_en?"primary":"Rejected"===a.status.name_en?"danger":"In progress"===a.status.name_en?"warning":"success","text-color":"white",small:""}},[e("I18nVue",{attrs:{uz:a.status.name_uz,ru:a.status.name_ru,en:a.status.name_en}})],1)]:t._e(),e("span",{staticClass:"text-small font-600 text-secondary-dark d-block"},[t._v(t._s(t.$t("Dashboard.status")))])],2),e("td",{staticClass:"admin-table-td",attrs:{width:"200"}},[e("span",{staticClass:"text--h5 d-block font-600"},[t._v(" "+t._s(t._f("filterDateAndTimeHour")(a.created_date))+" "),e("span",{staticClass:"text-small font-600 text-secondary-dark d-block"},[t._v("Yaratildi")])])]),e("td",{staticClass:"admin-table-td",attrs:{width:"75"}},[e("v-btn",{attrs:{to:{name:"PrivateClientsCardsApplicationsRead",params:{id:a.id}},depressed:"",icon:"",color:"info"}},[e("eye-icon",{staticClass:"custom-class",attrs:{size:"1.5x"}})],1)],1)])})),0)])]:[e("not-found")]],2),e("div",{staticClass:"card-footer"},[e("app-pagination",{on:{"emit:up":r}})],1)],1)]}}])})],1)},i=[],l=e("e02c"),n=e("87d8"),r=e("6571"),c=e("7c84"),o=e("133a"),d=e("8fa9"),u=e("d1f9"),p=e("0a35"),h=e("2f62"),_={name:"List",components:{AppLayoutScopeRenderless:l["a"],AppCard:n["a"],AppLoader:r["a"],AppPagination:c["a"],AppFilter:o["a"],NotFound:d["a"],I18nVue:u["a"],EyeIcon:p["n"],FileTextIcon:p["q"],ChevronDownIcon:p["e"]},computed:{...Object(h["c"])({getStatusList:"getStatusList",getPlasticCardList:"getPlasticCardList",getBranchesList:"getBranchesList"})},created(){this.fetchPlasticCardList({category:5})},methods:{...Object(h["b"])({fetchPlasticCardList:"fetchPlasticCardList"})}},f=_,m=e("0c7c"),v=Object(m["a"])(f,s,i,!1,null,null,null);a["default"]=v.exports},e02c:function(t,a,e){"use strict";var s,i,l=e("c4a0"),n={name:"AppLayoutScopeRenderless",props:{apiUrl:{type:String,default:null},type:{type:String,default:null},category:{type:[Number,String],default:null}},data(){return{filters:{search:null,status:null,card:null,cardType:null,credit:null,depositType:null,filial:null,filterByUrl:{title_uz:"Kredit uchun arizalar",title_ru:"Заявки на кредит",title_en:"Credit applications",value:"credit_application/action",block:2}},list:[],listCount:0,loading:!0}},watch:{filters:{deep:!0,handler(t){window.addEventListener("keyup",this.debouncedSearch())}}},created(){this.debouncedSearch=Object(l["d"])(()=>this.getAll(),500),this.getAll()},methods:{getAll(){this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/${this.apiUrl}/`,{params:{category:this.category,search:this.filters.search,status:this.filters.status,card:this.filters.card,card_type:this.filters.cardType,credit:this.filters.credit,type:this.filters.depositType,filial:this.filters.filial,page:this.$store.state.FILTER_OPTIONS.page,page_size:this.$store.state.FILTER_OPTIONS.page_size}}).then(({data:t})=>{console.log(t),this.list=t.results,this.listCount=t.count,this.$store.state.FILTER_OPTIONS.page_length=Math.ceil(t.count/this.$store.state.FILTER_OPTIONS.page_size)}).finally(()=>{this.loading=!1})},deleteRow(t){confirm("O'chirishni xoxlaysizmi ?")&&this.$http.delete(`/${this.$store.state.auth.COMPANY_ID}/${this.apiUrl}/${t}/`).then(t=>{this.$toast.success("O'chirildi"),this.getAll()}).catch(()=>{this.$toast.error("O'chirishda xatolik")})},paginate(t){this.$store.state.FILTER_OPTIONS.page=t,this.loading=!0,this.getAll()},exportToExcel(){this.loading=!0,this.$http.get(`/${this.$store.state.auth.COMPANY_ID}/export_apps_to_excel/`,{responseType:"blob",params:{status:this.filters.status,card:this.filters.card,credit:this.filters.credit,filial:this.filters.filial,type:this.type}}).then(({data:t})=>{const a=window.URL.createObjectURL(new Blob([t])),e=document.createElement("a");e.href=a,e.setAttribute("download","application_documents.xls"),document.body.appendChild(e),e.click()}).finally(()=>{this.loading=!1})}},render(){return this.$scopedSlots.default({filters:this.filters,list:this.list,count:this.listCount,loading:this.loading,getAll:this.getAll,deleteRow:this.deleteRow,paginate:this.paginate,exportToExcel:this.exportToExcel})}},r=n,c=e("0c7c"),o=Object(c["a"])(r,s,i,!1,null,"42705190",null);a["a"]=o.exports}}]);
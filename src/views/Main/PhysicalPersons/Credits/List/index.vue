<template>
	<div class="credits-list-view">
		<div class="view-toolbar">
			<v-container class="py-0">
				<div class="app-tab-header d-flex">
					<div class="tab-header-items text-center mr-7 active" data-item="header">
						<a
							class="
                                navigation-link__hover
                                p-relative
                                text--h3
                                dark-text
                                py-6
                                font-600
                                d-inline-block
                            "
						>
							{{ $t("Credits.title") }}
						</a>
					</div>
					<div class="tab-header-items text-center mr-7" data-item="header">
						<a
							class="
                                navigation-link__hover
                                p-relative
                                text--h3
                                dark-text
                                py-6
                                font-600
                                d-inline-block
                            "
						>
							{{ $t("insurance_companies") }}
						</a>
					</div>
				</div>
			</v-container>
		</div>

		<div class="view-toolbar-content py-16 overflow-hidden">
			<v-container>
				<div class="app-tab-content p-relative">
					<div class="tab-content-items active" data-item="content">
						<div class="app-card-wrap">
							<template v-if="creditList.length">
								<template v-for="item in creditList">
									<card-item :item="item" :key="item.id">
										<template v-slot:card-buttons>
											<v-btn
												:to="{ name: 'OnlineCreditID', params: { id: item.id } }"
												depressed
												color="rgba(var(--main-primary), 1)"
												outlined
												rounded
												min-width="192"
												min-height="50"
												class="font-700"
												:disabled="item.is_available && !item.is_available"
											>
												<I18nVue t="btn_application_form" />
											</v-btn>

											<v-btn
												:to="{ name: 'CreditsDetail', params: { id: item.id } }"
												depressed
												dark
												color="rgba(var(--main-primary), 1)"
												rounded
												min-width="192"
												min-height="50"
												class="font-700"
											>
												<I18nVue t="btn_more" />
											</v-btn>
										</template>

										<template v-slot:card-right-props>
											<h4 class="mb-3 font-600">
												<I18nVue t="Credits.text1" />
											</h4>

											<span class="text--h1 font-300 dark-text">
												<span v-if='$i18n.locale === "en"' v-html="item.max_amount_en" />
												<span v-if='$i18n.locale === "ru"' v-html="item.max_amount_ru" />
												<span v-if='$i18n.locale === "uz"' v-html="item.max_amount_uz" />
											</span>

											<div class="card-horizontal-line my-6" />

											<h4 class="mb-3 font-600">
												<I18nVue t="Credits.text2" />
											</h4>

											<span v-if='$i18n.locale === "en"' v-html="item.credit_period_en" />
											<span v-if='$i18n.locale === "ru"' v-html="item.credit_period_ru" />
											<span v-if='$i18n.locale === "uz"' v-html="item.credit_period" />
										</template>
									</card-item>
								</template>
							</template>

							<template v-else>
								<h1 class="font-700">{{ $t("Dashboard.no_information_found") }}</h1>
							</template>
						</div>
					</div>

					<div class="tab-content-items" data-item="content">
						<div class="app-view-content mt-8">
							<h2 class="font-600 dark-text">
								<I18nVue t="SHAREHOLDERS_AND_INVESTORS.AuditReport.title" />
							</h2>

							<v-divider style="border-color: rgba(var(--border-color), 1)" class="mt-5 mb-8" />

							<v-row>
								<template v-for="item in insuranceDocsList">
									<v-col md="6">
										<a :href="$http.defaults.baseURL + item.file.url" rel="noopener noreferrer" target="_blank"
										   class="text-decoration-none credit-widget pa-sm-6 pa-1 rounded-lg overflow-hidden d-block mb-8">
											<div class="d-flex flex-wrap align-center">
												<div class="mr-5 p-relative">
													<v-avatar color="#fff" size="75">
														<svg id="icon-file" viewBox="0 0 64 64" class="size-lg">
															<path
																d="M53.98 9.143h-3.97c-.082 0-.155.028-.232.047V5.023C49.778 2.253 47.473 0 44.64 0H10.217C7.384 0 5.08 2.253 5.08 5.023v46.843c0 2.77 2.305 5.023 5.138 5.023h6.037v2.268c0 2.67 2.216 4.843 4.941 4.843H53.98c2.725 0 4.942-2.173 4.942-4.843v-45.17c0-2.671-2.217-4.844-4.942-4.844zM7.11 51.866V5.023c0-1.649 1.394-2.991 3.106-2.991H44.64c1.712 0 3.106 1.342 3.106 2.99v46.844c0 1.649-1.394 2.991-3.106 2.991H10.217c-1.712 0-3.106-1.342-3.106-2.99zm49.778 7.29c0 1.551-1.306 2.812-2.91 2.812H21.195c-1.604 0-2.91-1.26-2.91-2.811v-2.268H44.64c2.833 0 5.138-2.253 5.138-5.023V11.128c.077.018.15.047.233.047h3.968c1.604 0 2.91 1.26 2.91 2.811v45.17z" />
															<path
																d="M38.603 13.206H16.254a1.015 1.015 0 1 0 0 2.032h22.35a1.015 1.015 0 1 0 0-2.032zM38.603 21.333H16.254a1.015 1.015 0 1 0 0 2.032h22.35a1.015 1.015 0 1 0 0-2.032zM38.603 29.46H16.254a1.015 1.015 0 1 0 0 2.032h22.35a1.015 1.015 0 1 0 0-2.032zM28.444 37.587h-12.19a1.015 1.015 0 1 0 0 2.032h12.19a1.015 1.015 0 1 0 0-2.032z" />
														</svg>
													</v-avatar>
												</div>

												<div class="app-slide-text flex-1">
													<h3 class="dark-text font-600">
														<I18nVue :uz="item.title_uz" :ru="item.title_ru"
														         :en="item.title_en" />
													</h3>
												</div>

												<div class="app-slide-icon download-icon pr-10 transition-all">
													<download-icon size="1.8x" class="custom-class" />
												</div>
											</div>
										</a>
									</v-col>
								</template>

							</v-row>
						</div>
					</div>
				</div>
			</v-container>
		</div>

		<section class="section-service section">
			<v-container>
				<v-row>
					<v-col md="4">
						<router-link
							:to="{ name: 'CreditCalc' }"
							class="app-slide-card pa-8 mx-2 rounded-lg overflow-hidden d-flex flex-column text-decoration-none p-relative"
						>
							<svg id="icon-calc" viewBox="0 0 512.00003 512.00003">
								<path
									d="m256 170.230469v60.585937c0 9.1875 7.4375 16.636719 16.621094 16.648438h188.589844c9.191406.007812 16.644531-7.4375 16.65625-16.628906v-60.585938c0-9.1875-7.4375-16.636719-16.625-16.648438h-188.585938c-9.191406-.007812-16.648438 7.4375-16.65625 16.628907zm204.800781 60.167969-187.734375.4375-.445312-60.167969 188.179687-.4375zm0 0"
								/>
								<path
									d="m307.199219 264.535156h-34.132813c-9.425781 0-17.066406 7.640625-17.066406 17.066406v25.597657c0 9.425781 7.640625 17.066406 17.066406 17.066406h34.132813c9.425781 0 17.066406-7.640625 17.066406-17.066406v-25.597657c0-9.425781-7.640625-17.066406-17.066406-17.066406zm-34.132813 42.664063v-25.597657h34.132813v25.597657zm0 0"
								/>
								<path
									d="m307.199219 341.332031h-34.132813c-9.425781 0-17.066406 7.640625-17.066406 17.066407v25.601562c0 9.425781 7.640625 17.066406 17.066406 17.066406h34.132813c9.425781 0 17.066406-7.640625 17.066406-17.066406v-25.601562c0-9.425782-7.640625-17.066407-17.066406-17.066407zm-34.132813 42.667969v-25.601562h34.132813v25.601562zm0 0"
								/>
								<path
									d="m307.199219 418.132812h-34.132813c-9.425781 0-17.066406 7.640626-17.066406 17.066407v25.601562c0 9.425781 7.640625 17.066407 17.066406 17.066407h34.132813c9.425781 0 17.066406-7.640626 17.066406-17.066407v-25.601562c0-9.425781-7.640625-17.066407-17.066406-17.066407zm-34.132813 42.667969v-25.601562h34.132813v25.601562zm0 0"
								/>
								<path
									d="m384 264.535156h-34.132812c-9.425782 0-17.066407 7.640625-17.066407 17.066406v25.597657c0 9.425781 7.640625 17.066406 17.066407 17.066406h34.132812c9.425781 0 17.066406-7.640625 17.066406-17.066406v-25.597657c0-9.425781-7.640625-17.066406-17.066406-17.066406zm-34.132812 42.664063v-25.597657h34.132812v25.597657zm0 0"
								/>
								<path
									d="m384 341.332031h-34.132812c-9.425782 0-17.066407 7.640625-17.066407 17.066407v25.601562c0 9.425781 7.640625 17.066406 17.066407 17.066406h34.132812c9.425781 0 17.066406-7.640625 17.066406-17.066406v-25.601562c0-9.425782-7.640625-17.066407-17.066406-17.066407zm-34.132812 42.667969v-25.601562h34.132812v25.601562zm0 0"
								/>
								<path
									d="m384 418.132812h-34.132812c-9.425782 0-17.066407 7.640626-17.066407 17.066407v25.601562c0 9.425781 7.640625 17.066407 17.066407 17.066407h34.132812c9.425781 0 17.066406-7.640626 17.066406-17.066407v-25.601562c0-9.425781-7.640625-17.066407-17.066406-17.066407zm-34.132812 42.667969v-25.601562h34.132812v25.601562zm0 0"
								/>
								<path
									d="m460.800781 264.535156h-34.132812c-9.425781 0-17.066407 7.640625-17.066407 17.066406v25.597657c0 9.425781 7.640626 17.066406 17.066407 17.066406h34.132812c9.425781 0 17.066407-7.640625 17.066407-17.066406v-25.597657c0-9.425781-7.640626-17.066406-17.066407-17.066406zm-34.132812 42.664063v-25.597657h34.132812v25.597657zm0 0"
								/>
								<path
									d="m460.800781 341.332031h-34.132812c-9.425781 0-17.066407 7.640625-17.066407 17.066407v25.601562c0 9.425781 7.640626 17.066406 17.066407 17.066406h34.132812c9.425781 0 17.066407-7.640625 17.066407-17.066406v-25.601562c0-9.425782-7.640626-17.066407-17.066407-17.066407zm-34.132812 42.667969v-25.601562h34.132812v25.601562zm0 0"
								/>
								<path
									d="m460.800781 418.132812h-34.132812c-9.425781 0-17.066407 7.640626-17.066407 17.066407v25.601562c0 9.425781 7.640626 17.066407 17.066407 17.066407h34.132812c9.425781 0 17.066407-7.640626 17.066407-17.066407v-25.601562c0-9.425781-7.640626-17.066407-17.066407-17.066407zm-34.132812 42.667969v-25.601562h34.132812v25.601562zm0 0"
								/>
								<path
									d="m298.667969 204.800781h8.53125c4.714843 0 8.535156-3.820312 8.535156-8.535156 0-4.710937-3.820313-8.53125-8.535156-8.53125h-8.53125c-4.714844 0-8.535157 3.820313-8.535157 8.53125 0 4.714844 3.820313 8.535156 8.535157 8.535156zm0 0"
								/>
								<path
									d="m341.332031 204.800781h76.800781c4.714844 0 8.535157-3.820312 8.535157-8.535156 0-4.710937-3.820313-8.53125-8.535157-8.53125h-76.800781c-4.710937 0-8.53125 3.820313-8.53125 8.53125 0 4.714844 3.820313 8.535156 8.53125 8.535156zm0 0"
								/>
								<path
									d="m25.601562 460.800781h196.265626v17.066407c0 18.851562 15.28125 34.132812 34.132812 34.132812h221.867188c18.851562 0 34.132812-15.28125 34.132812-34.132812v-324.265626c0-18.851562-15.28125-34.136718-34.132812-34.136718h-110.933594v-95.316406c-.019532-13.328126-10.820313-24.1289068-24.148438-24.148438h-11.4375c-13.328125.0195312-24.128906 10.820312-24.148437 24.148438v95.316406h-25.597657v-44.117188c-.019531-13.328125-10.820312-24.128906-24.152343-24.148437h-11.433594c-13.328125.019531-24.128906 10.820312-24.148437 24.148437v334.253906h-17.066407v-248.953124c-.019531-13.3125-10.804687-24.097657-24.117187-24.113282h-11.5c-13.3125.015625-24.097656 10.800782-24.117188 24.113282v248.953124h-17.066406v-95.351562c-.019531-13.3125-10.804688-24.097656-24.113281-24.117188h-11.503907c-13.3125.019532-24.097656 10.804688-24.117187 24.117188v95.351562h-17.066406v-384c0-14.140624-11.460938-25.601562-25.597657-25.601562-14.140624 0-25.601562 11.460938-25.601562 25.601562v409.597657c0 14.140625 11.460938 25.601562 25.601562 25.601562zm136.53125-300.152343c.011719-3.890626 3.160157-7.039063 7.050782-7.046876h11.5c3.890625.007813 7.039062 3.15625 7.050781 7.046876v248.953124h-25.601563zm-76.800781 153.601562c.011719-3.890625 3.160157-7.039062 7.050781-7.050781h11.503907c3.886719.011719 7.039062 3.160156 7.046875 7.050781v95.351562h-25.601563zm409.601563-160.648438v324.265626c0 9.425781-7.640625 17.066406-17.066406 17.066406h-221.867188c-9.425781 0-17.066406-7.640625-17.066406-17.066406v-324.265626c0-9.425781 7.640625-17.066406 17.066406-17.066406h221.867188c9.425781 0 17.066406 7.640625 17.066406 17.066406zm-170.667969-129.453124c.003906-3.910157 3.175781-7.078126 7.082031-7.082032h11.4375c3.910156.003906 7.078125 3.171875 7.082032 7.082032v95.316406h-25.601563zm-78.25 44.117187h11.433594c3.910156.003906 7.078125 3.175781 7.085937 7.082031v44.117188h-8.535156c-6.007812.039062-11.902344 1.675781-17.066406 4.746094v-48.863282c.003906-3.90625 3.171875-7.078125 7.082031-7.082031zm-228.949219-42.664063c0-4.714843 3.820313-8.535156 8.535156-8.535156 4.710938 0 8.53125 3.820313 8.53125 8.535156v384c0 9.425782 7.640626 17.066407 17.066407 17.066407h170.667969v17.066406h-196.265626c-4.714843 0-8.535156-3.820313-8.535156-8.535156zm0 0"
								/>
							</svg>

							<div class="pr-16 mt-auto">
								<h2 class="font-600 dark-text my-2">
									<I18nVue t="Credits.service.calc_title" />
								</h2>

								<h5 class="mb-0 main-grey">
									<I18nVue t="Credits.service.calc_body" />
								</h5>
							</div>

							<div class="slide-card-angle d-flex align-center justify-center">
								<chevron-right-icon size="2x" class="text-white" />
							</div>
						</router-link>
					</v-col>

					<v-col md="4">
						<router-link
							:to="{ name: 'BankOffice' }"
							class="app-slide-card pa-8 mx-2 rounded-lg overflow-hidden d-flex flex-column text-decoration-none p-relative"
						>
							<svg id="icon-atm" viewBox="0 0 54 60">
								<path
									d="M10.789 17h19.475a1 1 0 0 0 .938-1.346l-4.053-11A1 1 0 0 0 26.211 4H6.736A1 1 0 0 0 5.8 5.346l4.053 11a1 1 0 0 0 .936.654zM25.514 6l3.315 9H11.486L8.171 6z"
								/>
								<path
									d="M1 15.212v36.959c-.003.796.314 1.56.879 2.122l5.413 5.413A1 1 0 0 0 8 60h28a1 1 0 0 0 1-1v-3h13a4 4 0 0 0 4-4V27a4 4 0 0 0-4-4H37v-3a.32.32 0 0 0-.007-.033.964.964 0 0 0-.055-.313l-7-19A1 1 0 0 0 29 0H1a1 1 0 0 0-.349.07C.629.079.608.085.587.1a.991.991 0 0 0-.274.184C.3.3.284.312.268.329a.916.916 0 0 0-.088.1.935.935 0 0 0-.08.152C.092.6.082.608.076.624a1.015 1.015 0 0 0-.069.34C.007.976 0 .987 0 1v8.538c0 1.085.19 2.161.561 3.18.291.8.44 1.643.439 2.494zm2 36.959V15.212c0-1.085-.19-2.161-.561-3.18A7.263 7.263 0 0 1 2 9.538V6.607l5 13.572v36.407l-3.707-3.707A1 1 0 0 1 3 52.171zM42 25v29h-9a2 2 0 0 1-2-2V27a2 2 0 0 1 2-2zm10 2v25a2 2 0 0 1-2 2h-1V25h1a2 2 0 0 1 2 2zm-5-2v29h-3V25zm-14-2a4 4 0 0 0-4 4v25a4 4 0 0 0 4 4h2v2H9V21h26v2zM28.3 2l6.262 17H8.7L2.435 2z"
								/>
								<path
									d="M12.707 10.707l2-2a1 1 0 1 0-1.414-1.414l-2 2a1 1 0 1 0 1.414 1.414zM13.293 13.707a1 1 0 0 0 1.414 0l5-5a1 1 0 1 0-1.414-1.414l-5 5a1 1 0 0 0 0 1.414zM25 25h-6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2zm-6 4v-2h6v2zM12 23a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1zM12 29a1 1 0 0 0-1 1v25a1 1 0 0 0 2 0V30a1 1 0 0 0-1-1zM34.058 46a3.5 3.5 0 1 0 4.884 0 3.5 3.5 0 1 0-4.884 0zM38 48.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM36.5 42a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"
								/>
							</svg>

							<div class="pr-16 mt-auto">
								<h2 class="font-600 dark-text my-2">
									<I18nVue t="Credits.service.atm_title" />
								</h2>

								<h5 class="mb-0 main-grey">
									<I18nVue t="Credits.service.atm_body" />
								</h5>
							</div>

							<div class="slide-card-angle d-flex align-center justify-center">
								<chevron-right-icon size="2x" class="text-white" />
							</div>
						</router-link>
					</v-col>

					<v-col md="4">
						<router-link
							:to="{ name: 'Scoring' }"
							class="app-slide-card pa-8 mx-2 rounded-lg overflow-hidden d-flex flex-column text-decoration-none p-relative"
						>
							<svg id="icon-scoring" viewBox="0 0 512 512">
								<path
									d="M314.733,144.067h128c5.12,0,8.533-3.413,8.533-8.533S447.853,127,442.733,127h-128c-5.12,0-8.533,3.413-8.533,8.533     S309.613,144.067,314.733,144.067z"
								/>
								<path
									d="M357.4,109.933h34.133c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H357.4c-5.12,0-8.533,3.413-8.533,8.533     S352.28,109.933,357.4,109.933z"
								/>
								<path
									d="M442.733,161.133h-68.267c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h68.267     c5.12,0,8.533-3.413,8.533-8.533S447.853,161.133,442.733,161.133z"
								/>
								<path
									d="M58.733,135.533h128c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533h-128c-5.12,0-8.533,3.413-8.533,8.533     S53.613,135.533,58.733,135.533z"
								/>
								<path
									d="M195.267,161.133c0-5.12-3.413-8.533-8.533-8.533h-128c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h128     C191.853,169.667,195.267,166.253,195.267,161.133z"
								/>
								<path
									d="M101.4,101.4h34.133c5.12,0,8.533-3.413,8.533-8.533c0-5.12-3.413-8.533-8.533-8.533H101.4     c-5.12,0-8.533,3.413-8.533,8.533C92.867,97.987,96.28,101.4,101.4,101.4z"
								/>
								<path
									d="M195.267,195.267c0-5.12-3.413-8.533-8.533-8.533h-68.267c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533     h68.267C191.853,203.8,195.267,200.387,195.267,195.267z"
								/>
								<path
									d="M421.4,322.413c34.987-23.893,64.853-52.907,87.893-87.893c0.853-1.707,1.707-3.413,1.707-5.12V7.533     C511,2.413,507.587-1,502.467-1h-256H7.533C2.413-1-1,2.413-1,7.533v307.2c0,5.12,3.413,8.533,8.533,8.533h162.133v42.667     c0,5.12,3.413,8.533,8.533,8.533h47.787L106.52,493.933H7.533c-5.12,0-8.533,3.413-8.533,8.533S2.413,511,7.533,511h238.933h256     c5.12,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H386.413L266.947,374.467h47.787c5.12,0,8.533-3.413,8.533-8.533     v-42.667h47.787l99.84,99.84c1.707,1.707,3.413,2.56,5.973,2.56s4.267-0.853,5.973-2.56c3.413-3.413,3.413-8.533,0-11.947     l-87.893-87.893h22.187C418.84,323.267,420.547,322.413,421.4,322.413z M429.08,295.107c2.56-17.92,2.56-36.693-0.853-55.467     c18.773,2.56,36.693,3.413,55.467,0.853C468.333,260.973,449.56,278.893,429.08,295.107z M16.067,16.067h221.867V306.2H178.2     H16.067V16.067z M237.933,386.413v107.52h-107.52L237.933,386.413z M255,493.933v-107.52l107.52,107.52H255z M306.2,357.4     H186.733v-34.133h59.733H306.2V357.4z M300.227,252.44l53.76,53.76h-39.253H255V16.067h238.933v205.96     c-25.031,3.911-50.062,3.533-75.093-1.16c-2.56-0.853-5.973,0.853-7.68,2.56s-2.56,5.12-1.707,7.68     c5.12,22.187,5.973,43.52,2.56,65.707l-1.482,9.387H377.88l-65.707-65.707c-3.413-3.413-8.533-3.413-11.947,0     S296.813,249.027,300.227,252.44z"
								/>
							</svg>

							<div class="pr-16 mt-auto">
								<h2 class="font-600 dark-text my-2">
									<I18nVue t="Credits.service.scoring_title" />
								</h2>

								<h5 class="mb-0 main-grey">
									<I18nVue t="Credits.service.scoring_body" />
								</h5>
							</div>

							<div class="slide-card-angle d-flex align-center justify-center">
								<chevron-right-icon size="2x" class="text-white" />
							</div>
						</router-link>
					</v-col>
				</v-row>
			</v-container>
		</section>
	</div>
</template>

<script>
	import CardItem from "../../../../../components/CardItem"
	import { ChevronRightIcon, DownloadIcon } from "vue-feather-icons"
	import I18nVue from "@/I18nVue"
	import { appTab } from "@/utils/frontend"

	export default {
		name: "index",
		components: {
			CardItem,
			I18nVue,
			ChevronRightIcon,
			DownloadIcon
		},
		data() {
			return {
				creditList: [],
				insuranceDocsList: []
			}
		},
		mounted() {
			const $tabHeaderItems = document.querySelectorAll("[data-item=\"header\"]")
			const $tabContentItems = document.querySelectorAll("[data-item=\"content\"]")

			appTab($tabHeaderItems, $tabContentItems)

			this.getList()
			this.getInsuranceDocs()
		},
		methods: {
			getList() {
				this.$http.get("/1/credit/", {
					params: {
						category: 5
					}
				}).then(({ data }) => {
					this.creditList = data.results
					// console.log(this.creditList)
				})
			},

			getInsuranceDocs() {
				this.$http.get("/1/bank/documents", {
					params: {
						page_size: 500,
						type: "insurance_docs"
					}
				})
					.then(({ data }) => {
						this.insuranceDocsList = data.results
					})
			}
		}
	}
</script>

<style></style>
